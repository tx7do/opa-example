# opa-example

## 什么是 Open Policy Agent (OPA) ？

**Open Policy Agent (简称OPA)**，它是使用Go 语言写的一个非常轻量的 **开源的通用策略引擎（Open Source Policy Engine）**，他的目的就是解决在云端环境上的「策略(Policy)」执行问题，他可以在多种环境上运行，包含Microservice、Kubernetes、CI/CD Pipeline、API gateway 等，让你得以使用相同的服务来管理云端系统上所有的Policy，解决各式各样的Policy 判断情境。

OPA 最初是由 Styra 公司在 2016 年创建并开源的项目，目前该公司的主要产品就是提供可视化策略控制及策略执行的可视化 Dashboard 服务的。

OPA 首次进入 云原生计算基金会 [CNCF](https://www.cncf.io/) 并成为 sandbox 级别的项目是在 2018 年， 在 2021 年的 2 月份便已经从 CNCF 毕业，这个过程相对来说还是比较快的，由此也可以看出 OPA 是一个比较活跃且应用广泛的项目。

## Rego 基本语法

## Playground



## 参考资料

- [Open Policy Agent - 官网](https://www.openpolicyagent.org/)
- [Open Policy Agent - Github](https://github.com/open-policy-agent/opa)
- [The Rego Playground](https://play.openpolicyagent.org/)
- [Golang访问控制框架：Open Policy Agent vs Casbin](https://juejin.cn/post/7108533587292454949)
- [Open Policy Agent - 快速導入 Authz 至 Microservice 架構](https://engineering.linecorp.com/zh-hant/blog/open-policy-agent-authz-in-microservice/)
- [策略即代码——Open Policy Agent（开放策略代理 OPA）简介](https://cloudnative.to/blog/introducing-policy-as-code-the-open-policy-agent-opa/)
- [Open Policy Agent简介](http://just4coding.com/2020/02/13/open-policy-agent/)
- [Open Policy Agent (OPA) 入门实践](https://moelove.info/2021/12/06/Open-Policy-Agent-OPA-%E5%85%A5%E9%97%A8%E5%AE%9E%E8%B7%B5/)
- [用 Goalng 开发 OPA 策略](https://blog.haohtml.com/archives/31514)
- [How to Implement Role Based Access Control (RBAC) using Open Policy Agent (OPA)](https://www.permit.io/blog/implement-rbac-using-opa)
- [Open Policy Agent vs Casbin](https://qingwave.github.io/openpolicyagent-vs-casbin/#open-policy-agent)
- [Using OPA - AWS](https://docs.aws.amazon.com/prescriptive-guidance/latest/saas-multitenant-api-access-authorization/opa.html)
- [OPA-重新定义规则引擎-入门篇](https://zhuanlan.zhihu.com/p/113110851)
